{% extends "layout.html" %}
{% block title %}管理文章 - 管理面板{% endblock %}

{% block content %}
<div class="container admin-container" style="max-width: 960px; margin: 2rem auto;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <h1>管理文章</h1>
        <a href="{{ url_for('admin.add_edit_article') }}" class="btn btn-primary">创建新文章</a>
    </div>

    <div class="card">
        <table class="table" style="width: 100%; border-collapse: collapse;">
            <thead>
                <tr style="border-bottom: 1px solid var(--separator-color);">
                    <th style="padding: 1rem; text-align: left;">标题</th>
                    <th style="padding: 1rem; text-align: left;">Slug</th>
                    <th style="padding: 1rem; text-align: left;">作者</th>
                    <th style="padding: 1rem; text-align: left;">创建日期</th>
                    <th style="padding: 1rem; text-align: right;">操作</th>
                </tr>
            </thead>
            <tbody>
                {% for article in articles %}
                <tr style="border-bottom: 1px solid var(--separator-color);">
                    <td style="padding: 1rem;">{{ article.title }}</td>
                    <td style="padding: 1rem; font-family: monospace; font-size: 0.9em; color: var(--secondary-text);">{{ article.slug }}</td>
                    <td style="padding: 1rem;">{{ article.author }}</td>
                    <td style="padding: 1rem;">{{ article.created_at.split('T')[0] }}</td>
                    <td style="padding: 1rem; text-align: right;">
                        <a href="{{ url_for('admin.add_edit_article', article_id=article.id) }}" class="btn" style="margin-right: 0.5rem;">编辑</a>
                        <form action="{{ url_for('admin.delete_article', article_id=article.id) }}" method="POST" style="display:inline;">
                            <button type="submit" class="btn" style="background-color: #f44336; color: white;" onclick="return confirm('确定要删除这篇文章吗？');">删除</button>
                        </form>
                    </td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="5" style="padding: 2rem; text-align: center; color: var(--secondary-text);">
                        还没有任何文章。
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
